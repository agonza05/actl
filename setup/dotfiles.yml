tasks:
  git:
    cmds:
      - cmd: ln -sf {{ .DOTFILES_FOLDER }}/git/{{ .ITEM }} ${HOME}/{{ .ITEM }}
        for: { var: GIT_FILES }
    desc: Config git dotfiles.
    internal: true
    silent: true

  setup:
    aliases: [set]
    cmds:
      - task: update
      - task: git
    desc: Setup dotfiles.

  update:
    aliases: [up]
    cmds:
      - task: :ini:update-dotfiles
    desc: Update dotfiles.

vars:
  DOTFILES_FOLDER: "{{ .PERSONAL_CODE_DIR }}/dotfiles"
  GIT_FILES:
    - .gitconfig
    - .gitignore
    - .gitconfig.personal
    - .gitconfig.work

version: 3
